global.webpackJsonp([2],[
/* 0 */,
/* 1 */,
/* 2 */,
/* 3 */,
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/img/1.png";

/***/ }),
/* 5 */,
/* 6 */,
/* 7 */,
/* 8 */,
/* 9 */,
/* 10 */,
/* 11 */,
/* 12 */,
/* 13 */,
/* 14 */,
/* 15 */,
/* 16 */,
/* 17 */,
/* 18 */,
/* 19 */,
/* 20 */,
/* 21 */,
/* 22 */,
/* 23 */,
/* 24 */,
/* 25 */,
/* 26 */,
/* 27 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_vue__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__index__ = __webpack_require__(28);



var app = new __WEBPACK_IMPORTED_MODULE_0_vue___default.a(__WEBPACK_IMPORTED_MODULE_1__index__["a" /* default */]);
app.$mount();

/***/ }),
/* 28 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_mpvue_loader_lib_selector_type_script_index_0_index_vue__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_mpvue_loader_lib_template_compiler_index_id_data_v_df77d456_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_mpvue_loader_lib_selector_type_template_index_0_index_vue__ = __webpack_require__(37);
var disposed = false
function injectStyle (ssrContext) {
  if (disposed) return
  __webpack_require__(29)
}
var normalizeComponent = __webpack_require__(1)
/* script */

/* template */

/* styles */
var __vue_styles__ = injectStyle
/* scopeId */
var __vue_scopeId__ = "data-v-df77d456"
/* moduleIdentifier (server only) */
var __vue_module_identifier__ = null
var Component = normalizeComponent(
  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_mpvue_loader_lib_selector_type_script_index_0_index_vue__["a" /* default */],
  __WEBPACK_IMPORTED_MODULE_1__node_modules_mpvue_loader_lib_template_compiler_index_id_data_v_df77d456_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_mpvue_loader_lib_selector_type_template_index_0_index_vue__["a" /* default */],
  __vue_styles__,
  __vue_scopeId__,
  __vue_module_identifier__
)
Component.options.__file = "src\\pages\\index\\index.vue"
if (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== "default" && key.substr(0, 2) !== "__"})) {console.error("named exports are not supported in *.vue files.")}
if (Component.options.functional) {console.error("[vue-loader] index.vue: functional components are not supported with templates, they should use render functions.")}

/* hot reload */
if (false) {(function () {
  var hotAPI = require("vue-hot-reload-api")
  hotAPI.install(require("vue"), false)
  if (!hotAPI.compatible) return
  module.hot.accept()
  if (!module.hot.data) {
    hotAPI.createRecord("data-v-df77d456", Component.options)
  } else {
    hotAPI.reload("data-v-df77d456", Component.options)
  }
  module.hot.dispose(function (data) {
    disposed = true
  })
})()}

/* harmony default export */ __webpack_exports__["a"] = (Component.exports);


/***/ }),
/* 29 */
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),
/* 30 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_card__ = __webpack_require__(2);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ __webpack_exports__["a"] = ({
  data: function data() {
    return {
      motto: 'Hello World',
      userInfo: {},
      dataList: [],
      getUser: true
    };
  },


  components: {
    card: __WEBPACK_IMPORTED_MODULE_0__components_card__["a" /* default */]
  },
  onLoad: function onLoad(options) {
    //修改页面的标题
    wx.setNavigationBarTitle({
      title: '开奖公告'
    });
    //页面分享的跳转
    if (options.lotyId && options.issue && options.lotyName) {
      wx.navigateTo({
        url: '/pages/counter/main?lotyId=' + options.lotyId + '&issue=' + options.issue + '&lotyName=' + options.lotyName
      });
    }
  },
  mounted: function mounted() {
    // 一进来看看用户是否授权过
    this.getSetting();
  },

  methods: {
    getSetting: function getSetting() {
      var that = this;
      wx.getSetting({
        success: function success(res) {
          if (res.authSetting['scope.userInfo']) {
            wx.getUserInfo({
              success: function success(res) {
                console.log(res.userInfo);
                //用户已经授权过
                console.log('用户已经授权过');
                that.getUser = false;
              }
            });
          } else {
            console.log('用户还未授权过');
            that.getUser = true;
          }
        }
      });
    },
    getUserInfo1: function getUserInfo1() {
      console.log('click事件首先触发');
      // 判断小程序的API，回调，参数，组件等是否在当前版本可用。  为false 提醒用户升级微信版本
      // console.log(wx.canIUse('button.open-type.getUserInfo'))
      if (wx.canIUse('button.open-type.getUserInfo')) {
        // 用户版本可用
      } else {
        console.log('请升级微信版本');
      }
    },
    bindGetUserInfo: function bindGetUserInfo(e) {
      var that = this;
      // console.log(e.mp.detail.rawData)
      if (e.mp.detail.rawData) {
        //用户按了允许授权按钮
        console.log('用户按了允许授权按钮');
        that.getUser = false;
      } else {
        //用户按了拒绝按钮
        console.log('用户按了拒绝按钮');
        that.getUser = true;
      }
    },
    bindViewTap: function bindViewTap() {
      var url = '../logs/main';
      wx.navigateTo({ url: url });
    },
    getUserInfo: function getUserInfo() {
      var that = this;
      // 调用登录接口
      //    wx.login({
      //      success: (res) => {
      //      	console.log(res);
      //      	console.log(res.code);
      //      	wx.request({
      //          url: 'https://api.lottery666.com/miniapp/awardSubscribe',
      //          data: {
      //            code: res.code,
      //            opt: 'add',
      //            loty: '10'
      //          },
      //          method: 'POST',
      //          success: function(res){
      //          	console.log(res.data);
      //          	//请求获取用户的唯一标志和用户的收藏结果
      //          	
      //          	
      ////          	var value = wx.getStorageSync('order');    
      ////          	wx.setStorage({
      ////                key:"order",
      ////                data: value
      ////              })  
      //          }
      //       })
      //      }
      //    })
    },
    skipDetail: function skipDetail(lotyId, issue, lotyName) {
      console.log('跳转到详情');
      console.log(lotyId);
      console.log(issue);
      console.log(lotyName);
      wx.navigateTo({
        url: '/pages/counter/main?lotyId=' + lotyId + '&issue=' + issue + '&lotyName=' + lotyName
      });
    },
    skipMine: function skipMine() {
      console.log('跳转到我的');
      wx.redirectTo({
        url: '/pages/mine/main'
      });
    },
    skipIndex: function skipIndex() {
      var pages = getCurrentPages(); //获取加载的页面
      var currentPage = pages[pages.length - 1]; //获取当前页面的对象
      var URL = currentPage.route;
      console.log(URL);
      if (URL != 'pages/index/main') {
        console.log('跳转到首页');
        wx.redirectTo({
          url: '/pages/index/main'
        });
      }
    },
    getData: function getData() {
      var that = this;
      wx.request({
        url: 'https://api.lottery666.com/info/award/', //接口地址
        data: {
          identity: 'com.houcai.letoula',
          platform: '3'
        },
        header: {
          'content-type': 'application/json' // 默认值
        },
        success: function success(res) {
          console.log(res.data.data);
          for (var i = 0; i < res.data.data.length; i++) {
            var lotyName = '双色球';
            var timeStr = res.data.data[i].date;
            var time = '';
            if (timeStr) {
              time = timeStr.slice(4, 6) + '月' + timeStr.slice(6, 8) + '日';
            }
            var temp = {
              date: time,
              issue: res.data.data[i].issue,
              lotyId: res.data.data[i].lotyId,
              src: __webpack_require__(4),
              openCode: res.data.data[i].openCode,
              redBall: [],
              blueBall: [],
              lotyName: lotyName
            };
            var codeStr = res.data.data[i].openCode;
            var List1 = [];
            if (codeStr) {
              List1 = codeStr.split('|');
              var List2 = List1[0].split(',');
              var List3 = [];
              if (List1.length > 1) {
                List3 = List1[1].split(',');
              } else {
                List3 = [];
              }
            }
            temp.redBall = List2;
            temp.blueBall = List3;
            if (res.data.data[i].lotyId == 10) {
              temp.lotyName = '双色球';
              temp.src = __webpack_require__(4);
              that.dataList.push(temp);
            }
            if (res.data.data[i].lotyId == 11) {
              temp.lotyName = '大乐透';
              temp.src = __webpack_require__(31);
              that.dataList.push(temp);
            }
            if (res.data.data[i].lotyId == 12) {
              temp.lotyName = '福彩3d';
              temp.src = __webpack_require__(32);
              that.dataList.push(temp);
            }
            if (res.data.data[i].lotyId == 13) {
              temp.lotyName = '排列三';
              temp.src = __webpack_require__(33);
              that.dataList.push(temp);
            }
            if (res.data.data[i].lotyId == 14) {
              temp.lotyName = '排列五';
              temp.src = __webpack_require__(34);
              that.dataList.push(temp);
            }
            if (res.data.data[i].lotyId == 15) {
              temp.lotyName = '七星彩';
              temp.src = __webpack_require__(35);
              that.dataList.push(temp);
            }
            if (res.data.data[i].lotyId == 16) {
              temp.lotyName = '七乐彩';
              temp.src = __webpack_require__(36);
              that.dataList.push(temp);
            }
          }
          console.log(that.dataList);
        }
      });
    }
  },
  created: function created() {
    // 调用应用实例的方法获取全局数据
    this.getData();
    this.getUserInfo();
  }
});

/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/img/2.png";

/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/img/3.png";

/***/ }),
/* 33 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/img/4.png";

/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/img/5.png";

/***/ }),
/* 35 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/img/6.png";

/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/img/7.png";

/***/ }),
/* 37 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "counter"
  }, [_c('div', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (!_vm.getUser),
      expression: "!getUser"
    }],
    staticClass: "notgetUserMess"
  }, [_c('div', {
    staticClass: "bgimg"
  }), _vm._v(" "), _vm._l((_vm.dataList), function(item, index) {
    return _c('div', {
      key: index,
      staticClass: "bgcolor",
      attrs: {
        "eventid": '0-' + index
      },
      on: {
        "click": function($event) {
          _vm.skipDetail(item.lotyId, item.issue, item.lotyName)
        }
      }
    }, [_c('div', {
      staticClass: "imgLeft"
    }, [_c('img', {
      attrs: {
        "src": item.src
      }
    })]), _vm._v(" "), _c('div', {
      staticClass: "messRight"
    }, [_c('span', {
      staticClass: "title"
    }, [_vm._v(_vm._s(item.lotyName))]), _c('br'), _vm._v(" "), _c('span', [_vm._v(_vm._s(item.issue) + "期")]), _vm._v(" "), _c('span', [_vm._v(_vm._s(item.date))]), _vm._v(" "), _c('div', {
      staticClass: "ball"
    }, [_vm._l((item.redBall), function(item1, index1) {
      return _c('span', {
        key: index1,
        staticClass: "redBall"
      }, [_vm._v(_vm._s(item1))])
    }), _vm._v(" "), _vm._l((item.blueBall), function(item2, index2) {
      return _c('span', {
        key: index2,
        staticClass: "blueBall"
      }, [_vm._v(_vm._s(item2))])
    })], 2)], 1), _vm._v(" "), _vm._m(0, true)])
  }), _vm._v(" "), _c('div', {
    staticClass: "menu"
  }, [_c('div', {
    staticClass: "shouye",
    attrs: {
      "eventid": '1'
    },
    on: {
      "click": _vm.skipIndex
    }
  }, [_c('div', {
    staticClass: "imgShouye"
  }), _vm._v(" "), _c('span', [_vm._v("首页")])]), _vm._v(" "), _c('div', {
    staticClass: "mine",
    attrs: {
      "eventid": '2'
    },
    on: {
      "click": _vm.skipMine
    }
  }, [_c('div', {
    staticClass: "imgMine"
  }), _vm._v(" "), _c('span', [_vm._v("我的")])])])], 2), _vm._v(" "), _c('div', {
    directives: [{
      name: "show",
      rawName: "v-show",
      value: (_vm.getUser),
      expression: "getUser"
    }],
    staticClass: "getUserMess"
  }, [_vm._m(1), _vm._v(" "), _c('div', {
    staticClass: "tipMess"
  }, [_vm._v("您需要授权才能使用哦")]), _vm._v(" "), _c('button', {
    attrs: {
      "open-type": "getUserInfo",
      "eventid": '3'
    },
    on: {
      "getuserinfo": _vm.bindGetUserInfo,
      "click": _vm.getUserInfo1
    }
  }, [_vm._v("获取授权")])], 1)])
}
var staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "messDetail"
  }, [_c('div', {
    staticClass: "arrowRight"
  })])
},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;
  return _c('div', {
    staticClass: "shouquanimg"
  }, [_c('img', {
    attrs: {
      "src": "../../img/index/shouquan.png"
    }
  })])
}]
render._withStripped = true
var esExports = { render: render, staticRenderFns: staticRenderFns }
/* harmony default export */ __webpack_exports__["a"] = (esExports);
if (false) {
  module.hot.accept()
  if (module.hot.data) {
     require("vue-hot-reload-api").rerender("data-v-df77d456", esExports)
  }
}

/***/ })
],[27]);
//# sourceMappingURL=main.js.map